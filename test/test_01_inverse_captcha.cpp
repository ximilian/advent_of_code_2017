#include "01_inverse_captcha.hpp"
#include "gtest/gtest.h"

TEST(TestInverseCaptcha, compute_emptyString) {
  EXPECT_EQ(0, InverseCaptcha::compute(""));
}

TEST(TestInverseCaptcha, compute_zeroConsecutives) {
  EXPECT_EQ(0, InverseCaptcha::compute("1234"));
}

TEST(TestInverseCaptcha, compute_twoConsecutives) {
  EXPECT_EQ(3, InverseCaptcha::compute("1122"));
}

TEST(TestInverseCaptcha, compute_fourConsecutives) {
  EXPECT_EQ(4, InverseCaptcha::compute("1111"));
}

TEST(TestInverseCaptcha, compute_oneConsecutivesWrapped) {
  EXPECT_EQ(9, InverseCaptcha::compute("91212129"));
}

TEST(TestInverseCaptcha, compute_solvePuzzleInput) {
  EXPECT_EQ(1049,
            InverseCaptcha::compute(
                "525544371475555531777715244182678432191828599959422153163624294499836371611929484583857994356254324723"
                "996955579177239268156788344983798211923953632534126352441539712382435846789196376294872332777454571585"
                "154242983211917913991447152351533224731744171918455689136217926736832548664237668565775962387685495872"
                "163657421987124964577373859775142995943746687616627375552487335145295141162847935252236771426971851483"
                "893328386142598256285484547151265255563392287812855892612393594185853244637881592957345277534859969398"
                "283469975773471418783133754647451567857715872175192156214559116663427969929941826915855755799658388164"
                "246827461819633526734289749848686992526289612514686712459658798953149589164668152825962467479272814652"
                "684971113914626879943633461897454753956158758126888644929181733523285939149383916711124637649319198514"
                "584853182934419853656898799689422658583734837295895953596965157351654258114446253657495376441372314795"
                "723729832445818129116758779171417267471789856726954776663614373243869447323147325845216645719479781942"
                "352813915745214823694328337419356196339384638562221853595259158835356531943228557971188155934354451546"
                "196284687968587943176796397565434756938535448222634126176854732874994716386464516842895344539636139887"
                "353643493182363552246775478242255799826285829756386249265246452636617121827617625858244492349718177612"
                "943639639733397621597673154218287897938936229715581946168536167641472559733575997628559771333268827524"
                "127166465828686869716751532981183123432469834515994913547446362474962462651824783144814387618313381426"
                "397761156433986546632124439917746482264961196989634487438197898645356697976291115593136239419266394352"
                "683414859634226832156388525576561441814182893497192799899473976914178918516546197642515185584673995933"
                "864949937965722319688553938615493558679454836586175935486545321172155177699757628981159565417167225912"
                "933524353151822828239332639524124218579582826131921516426223795774323255897128914563985214819718426576"
                "629188525984723664661593596375963114533815925753811435978185468569542934842888424897217727836135381476"
                "6653996675994784195827214295462389532422825696456457332417366426619555"));
}

TEST(TestInverseCaptcha, compute_halfway_twoMatches) {
  EXPECT_EQ(6, InverseCaptcha::compute_halfway("1212"));
}

TEST(TestInverseCaptcha, compute_halfway_noMatches) {
  EXPECT_EQ(0, InverseCaptcha::compute_halfway("1221"));
}

TEST(TestInverseCaptcha, compute_halfway_oneMatch) {
  EXPECT_EQ(4, InverseCaptcha::compute_halfway("123425"));
}

TEST(TestInverseCaptcha, compute_halfway_duplicated) {
  EXPECT_EQ(12, InverseCaptcha::compute_halfway("123123"));
}

TEST(TestInverseCaptcha, compute_halfway_consecutives) {
  EXPECT_EQ(4, InverseCaptcha::compute_halfway("12131415"));
}

TEST(TestInverseCaptcha, compute_halfway_solvePuzzleInput) {
  EXPECT_EQ(1508,
            InverseCaptcha::compute_halfway(
                "525544371475555531777715244182678432191828599959422153163624294499836371611929484583857994356254324723"
                "996955579177239268156788344983798211923953632534126352441539712382435846789196376294872332777454571585"
                "154242983211917913991447152351533224731744171918455689136217926736832548664237668565775962387685495872"
                "163657421987124964577373859775142995943746687616627375552487335145295141162847935252236771426971851483"
                "893328386142598256285484547151265255563392287812855892612393594185853244637881592957345277534859969398"
                "283469975773471418783133754647451567857715872175192156214559116663427969929941826915855755799658388164"
                "246827461819633526734289749848686992526289612514686712459658798953149589164668152825962467479272814652"
                "684971113914626879943633461897454753956158758126888644929181733523285939149383916711124637649319198514"
                "584853182934419853656898799689422658583734837295895953596965157351654258114446253657495376441372314795"
                "723729832445818129116758779171417267471789856726954776663614373243869447323147325845216645719479781942"
                "352813915745214823694328337419356196339384638562221853595259158835356531943228557971188155934354451546"
                "196284687968587943176796397565434756938535448222634126176854732874994716386464516842895344539636139887"
                "353643493182363552246775478242255799826285829756386249265246452636617121827617625858244492349718177612"
                "943639639733397621597673154218287897938936229715581946168536167641472559733575997628559771333268827524"
                "127166465828686869716751532981183123432469834515994913547446362474962462651824783144814387618313381426"
                "397761156433986546632124439917746482264961196989634487438197898645356697976291115593136239419266394352"
                "683414859634226832156388525576561441814182893497192799899473976914178918516546197642515185584673995933"
                "864949937965722319688553938615493558679454836586175935486545321172155177699757628981159565417167225912"
                "933524353151822828239332639524124218579582826131921516426223795774323255897128914563985214819718426576"
                "629188525984723664661593596375963114533815925753811435978185468569542934842888424897217727836135381476"
                "6653996675994784195827214295462389532422825696456457332417366426619555"));
}
